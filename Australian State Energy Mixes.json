{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Australian States Energy Mixes",
    "anchor": "middle",
    "fontSize": 16
  },
  "data": {
    "url": "https://raw.githubusercontent.com/aks8597/FIT3179_DV2/refs/heads/main/aus_states_energy_mixes.csv"
  },
  "transform": [
    {
      "fold": ["Oil", "Coal", "Gas", "Renewables"],
      "as": ["EnergyType", "Percentage"]
    }
  ],
  "facet": {
    "field": "State",
    "type": "nominal",
    "columns": 3,
    "header": {"labels": false, "title": null, "labelFontSize": 0}
  },
  "spec": {
    "width": 50,
    "height": 50,
    "layer": [
      {
        "mark": {
          "type": "arc",
          "innerRadius": 50,
          "outerRadius": 70,
          "stroke": "#fff",
          "strokeWidth": 1
        },
        "encoding": {
          "theta": {
            "field": "Percentage",
            "type": "quantitative",
            "stack": true
          },
          "color": {
            "field": "EnergyType",
            "type": "nominal",
            "scale": {
              "domain": ["Oil", "Coal", "Gas", "Renewables"],
              "range": ["#D84315", "#455A64", "#FFB300", "#2E7D32"]
            },
            "title": "Energy Type",
            "legend": {"orient": "bottom", "columns": 2}
          }
        }
      },
      {
        "mark": {
          "type": "text",
          "align": "center",
          "baseline": "middle",
          "fontSize": 12
        },
        "encoding": {"text": {"field": "State", "type": "nominal"}}
      }
    ]
  },
  "config": {
    "view": {"stroke": null},
    "axis": null,
    "legend": {"labelFontSize": 10, "titleFontSize": 11}
  }
}
